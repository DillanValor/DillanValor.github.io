# valorworks.dev notes

## Deployment & CDN
- GitHub Pages + Cloudflare remain unchanged. No extra Cloudflare rules or path updates are required.

## Manual follow-ups
1. **Real assets** – The production photos you supplied now live in `/assets/submarine.png`, `/assets/service-award.png`, and `/assets/warfare-ensignia.png`. Update or extend them as you capture new shots (project card art, etc.).
2. **Image optimization** – Re-export the submarine hero and award ceremony shots as compressed JPEG + WebP variants (e.g., `submarine-800.webp`, `submarine-1200.webp`) to keep Largest Contentful Paint down. Swap the `<picture>` tags back to responsive `srcset` markup after generating those files locally.
3. **Resume** – Swap `/assets/resume.pdf` with the latest resume document.
4. **Stage B CSS build** – Install dependencies and compile the Tailwind bundle when ready:
   ```bash
   npm install
   npm run build:css
   ```
   This writes `assets/styles.css`. Update the HTML files by removing the CDN `<script>` and `<style>` blocks, then load `/assets/styles.css` instead.
5. **Stage B fonts** – Download the Inter font files (woff2) and self-host them or update the CSS to use a system font stack before enforcing a strict CSP.
6. **Stage B script** – Move the footer year helper into a tiny `/assets/site.js` file (e.g., `document.querySelectorAll('[data-year]').forEach(...)`). Reference that file with a `defer` attribute once the strict CSP is in place.

## CSP plan
- **Stage A (current)** – Uses the CDN Tailwind script and Google Fonts; compatible with the existing Report-Only policy you have configured in Cloudflare.
- **Stage B (strict)** – After compiling CSS and hosting fonts/scripts locally, update the Cloudflare rule to a strict CSP similar to:
  ```
  Content-Security-Policy: \
    default-src 'self'; \
    script-src 'self'; \
    style-src 'self'; \
    img-src 'self' data:; \
    font-src 'self'; \
    connect-src 'self'; \
    frame-ancestors 'none'; \
    base-uri 'self'; \
    form-action 'self'; \
    object-src 'none';
  ```
  Keep HSTS, Permissions-Policy, and the other response headers already managed in Cloudflare.

## Files added for Stage B
- `package.json` with Tailwind build scripts.
- `tailwind.config.cjs` describing the theme/content paths.
- `src/styles.css` containing the Tailwind directives + brand variables.
- `assets/styles.css` placeholder output – regenerated by `npm run build:css`.
